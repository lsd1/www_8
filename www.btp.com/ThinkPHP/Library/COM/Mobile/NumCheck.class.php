<?php
namespace COM\Mobile;

/*
* 移动号码判断
*/
class NumCheck
{
	static $data=array(
			"86"=>array('exp'=>'^(86){0,1}1\d{10}$','zh-cn'=>'中国(+86)'),
            "886"=>array('exp'=>"^(00){0,1}(886){1}0{0,1}[6,7,9](?:\d{7}|\d{8}|\d{10})$",'zh-cn'=>"台湾(+886)"),
            "852"=>array('exp'=>"^(00){0,1}(852){1}0{0,1}[1,5,6,9](?:\d{7}|\d{8}|\d{12})$",'zh-cn'=>"香港(+852)"),
            "60"=>array('exp'=>"^(00){0,1}(60){1}1\d{8,9}$",'zh-cn'=>"马来西亚(+60)"),
            "65"=>array('exp'=>"^(00){0,1}(65){1}[13689]\d{6,7}$",'zh-cn'=>"新加坡(+65)"),
            "81"=>array('exp'=>"^(00){0,1}(81){1}0{0,1}[7,8,9](?:\d{8}|\d{9})$",'zh-cn'=>"日本(+81)"),
            "82"=>array('exp'=>"^(00){0,1}(82){1}0{0,1}[7,1](?:\d{8}|\d{9})$",'zh-cn'=>"韩国(+82)"),
            "1us"=>array('exp'=>"^(00){0,1}(1){1}\d{10,12}$",'zh-cn'=>"美国(+1)"),
            "1ca"=>array('exp'=>"^(00){0,1}(1){1}\d{10}$",'zh-cn'=>"加拿大(+1)"),
            "61"=>array('exp'=>"^(00){0,1}(61){1}4\d{8,9}$",'zh-cn'=>"澳大利亚(+61)"),
            "64"=>array('exp'=>"^(00){0,1}(64){1}[278]\d{7,9}$",'zh-cn'=>"新西兰(+64)"),
            "54"=>array('exp'=>"^(00){0,1}(54){1}\d{6,12}$",'zh-cn'=>"阿根廷(+54)"),
            "971"=>array('exp'=>"^(00){0,1}(971){1}\d{6,12}$",'zh-cn'=>"阿联酋(+971)"),
            "353"=>array('exp'=>"^(00){0,1}(353){1}\d{6,12}$",'zh-cn'=>"爱尔兰(+353)"),
            "20"=>array('exp'=>"^(00){0,1}(20){1}\d{6,12}$",'zh-cn'=>"埃及(+20)"),
            "372"=>array('exp'=>"^(00){0,1}(372){1}\d{6,12}$",'zh-cn'=>"爱沙尼亚(+372)"),
            "43"=>array('exp'=>"^(00){0,1}(43){1}\d{6,12}$",'zh-cn'=>"奥地利(+43)"),
            "853"=>array('exp'=>"^(00){0,1}(853){1}6\d{7}$",'zh-cn'=>"澳门(+853)"),
            "1242"=>array('exp'=>"^(00){0,1}(1242){1}\d{6,12}$",'zh-cn'=>"巴哈马(+1242)"),
            "507"=>array('exp'=>"^(00){0,1}(507){1}\d{6,12}$",'zh-cn'=>"巴拿马(+507)"),
            "55"=>array('exp'=>"^(00){0,1}(55){1}\d{6,12}$",'zh-cn'=>"巴西(+55)"),
            "375"=>array('exp'=>"^(00){0,1}(375){1}\d{6,12}$",'zh-cn'=>"白俄罗斯(+375)"),
            "359"=>array('exp'=>"^(00){0,1}(359){1}\d{6,12}$",'zh-cn'=>"保加利亚(+359)"),
            "32"=>array('exp'=>"^(00){0,1}(32){1}\d{6,12}$",'zh-cn'=>"比利时(+32)"),
            "48"=>array('exp'=>"^(00){0,1}(48){1}\d{6,12}$",'zh-cn'=>"波兰(+48)"),
            "501"=>array('exp'=>"^(00){0,1}(501){1}\d{6,12}$",'zh-cn'=>"伯利兹(+501)"),
            "45"=>array('exp'=>"^(00){0,1}(45){1}\d{6,12}$",'zh-cn'=>"丹麦(+45)"),
            "49"=>array('exp'=>"^(00){0,1}(49){1}1(\d{5,6}|\d{9,12})$",'zh-cn'=>"德国(+49)"),
            "7"=>array('exp'=>"^(00){0,1}(7){1}[13489]\d{9,11}$",'zh-cn'=>"俄罗斯(+7)"),
            "33"=>array('exp'=>"^(00){0,1}(33){1}[168](\d{5}|\d{7,8})$",'zh-cn'=>"法国(+33)"),
            "63"=>array('exp'=>"^(00){0,1}(63){1}[24579](\d{7,9}|\d{12})$",'zh-cn'=>"菲律宾(+63)"),
            "358"=>array('exp'=>"^(00){0,1}(358){1}\d{6,12}$",'zh-cn'=>"芬兰(+358)"),
            "57"=>array('exp'=>"^(00){0,1}(57){1}\d{6,12}$",'zh-cn'=>"哥伦比亚(+57)"),
            "31"=>array('exp'=>"^(00){0,1}(31){1}6\d{8}$",'zh-cn'=>"荷兰(+31)"),
            "996"=>array('exp'=>"^(00){0,1}(996){1}\d{6,12}$",'zh-cn'=>"吉尔吉斯斯坦(+996)"),
            "855"=>array('exp'=>"^(00){0,1}(855){1}\d{6,12}$",'zh-cn'=>"柬埔寨(+855)"),
            "974"=>array('exp'=>"^(00){0,1}(974){1}\d{6,12}$",'zh-cn'=>"卡塔尔(+974)"),
            "370"=>array('exp'=>"^(00){0,1}(370){1}\d{6,12}$",'zh-cn'=>"立陶宛(+370)"),
            "352"=>array('exp'=>"^(00){0,1}(352){1}\d{6,12}$",'zh-cn'=>"卢森堡(+352)"),
            "40"=>array('exp'=>"^(00){0,1}(40){1}\d{6,12}$",'zh-cn'=>"罗马尼亚(+40)"),
            "960"=>array('exp'=>"^(00){0,1}(960){1}\d{6,12}$",'zh-cn'=>"马尔代夫(+960)"),
            "976"=>array('exp'=>"^(00){0,1}(976){1}\d{6,12}$",'zh-cn'=>"蒙古(+976)"),
            "51"=>array('exp'=>"^(00){0,1}(51){1}\d{6,12}$",'zh-cn'=>"秘鲁(+51)"),
            "212"=>array('exp'=>"^(00){0,1}(212){1}\d{6,12}$",'zh-cn'=>"摩洛哥(+212)"),
            "52"=>array('exp'=>"^(00){0,1}(52){1}\d{6,12}$",'zh-cn'=>"墨西哥(+52)"),
            "27"=>array('exp'=>"^(00){0,1}(27){1}\d{6,12}$",'zh-cn'=>"南非(+27)"),
            "234"=>array('exp'=>"^(00){0,1}(234){1}\d{6,12}$",'zh-cn'=>"尼日利亚(+234)"),
            "47"=>array('exp'=>"^(00){0,1}(47){1}\d{6,12}$",'zh-cn'=>"挪威(+47)"),
            "351"=>array('exp'=>"^(00){0,1}(351){1}\d{6,12}$",'zh-cn'=>"葡萄牙(+351)"),
            "46"=>array('exp'=>"^(00){0,1}(46){1}[124-7](\d{8}|\d{10}|\d{12})$",'zh-cn'=>"瑞典(+46)"),
            "41"=>array('exp'=>"^(00){0,1}(41){1}\d{6,12}$",'zh-cn'=>"瑞士(+41)"),
            "381"=>array('exp'=>"^(00){0,1}(381){1}\d{6,12}$",'zh-cn'=>"塞尔维亚(+381)"),
            "248"=>array('exp'=>"^(00){0,1}(248){1}\d{6,12}$",'zh-cn'=>"塞舌尔(+248)"),
            "966"=>array('exp'=>"^(00){0,1}(966){1}\d{6,12}$",'zh-cn'=>"沙特阿拉伯(+966)"),
            "94"=>array('exp'=>"^(00){0,1}(94){1}\d{6,12}$",'zh-cn'=>"斯里兰卡(+94)"),
            "66"=>array('exp'=>"^(00){0,1}(66){1}[13456789]\d{7,8}$",'zh-cn'=>"泰国(+66)"),
            "90"=>array('exp'=>"^(00){0,1}(90){1}\d{6,12}$",'zh-cn'=>"土耳其(+90)"),
            "216"=>array('exp'=>"^(00){0,1}(216){1}\d{6,12}$",'zh-cn'=>"突尼斯(+216)"),
            "58"=>array('exp'=>"^(00){0,1}(58){1}\d{6,12}$",'zh-cn'=>"委内瑞拉(+58)"),
            "380"=>array('exp'=>"^(00){0,1}(380){1}[3-79]\d{8,9}$",'zh-cn'=>"乌克兰(+380)"),
            "34"=>array('exp'=>"^(00){0,1}(34){1}\d{6,12}$",'zh-cn'=>"西班牙(+34)"),
            "30"=>array('exp'=>"^(00){0,1}(30){1}\d{6,12}$",'zh-cn'=>"希腊(+30)"),
            "36"=>array('exp'=>"^(00){0,1}(36){1}\d{6,12}$",'zh-cn'=>"匈牙利(+36)"),
            "39"=>array('exp'=>"^(00){0,1}(39){1}[37]\d{8,11}$",'zh-cn'=>"意大利(+39)"),
            "972"=>array('exp'=>"^(00){0,1}(972){1}\d{6,12}$",'zh-cn'=>"以色列(+972)"),
            "91"=>array('exp'=>"^(00){0,1}(91){1}\d{6,12}$",'zh-cn'=>"印度(+91)"),
            "62"=>array('exp'=>"^(00){0,1}(62){1}[2-9]\d{7,11}$",'zh-cn'=>"印度尼西亚(+62)"),
            "44"=>array('exp'=>"^(00){0,1}(44){1}[347-9](\d{8,9}|\d{11,12})$",'zh-cn'=>"英国(+44)"),
            "1284"=>array('exp'=>"^(00){0,1}(1284){1}\d{6,12}$",'zh-cn'=>"英属维尔京群岛(+1284)"),
            "962"=>array('exp'=>"^(00){0,1}(962){1}\d{6,12}$",'zh-cn'=>"约旦(+962)"),
            "84"=>array('exp'=>"^(00){0,1}(84){1}[1-9]\d{6,9}$",'zh-cn'=>"越南(+84)"),
            "56"=>array('exp'=>"^(00){0,1}(56){1}\d{6,12}$",'zh-cn'=>"智利(+56)"),
    	);
		
	static function check($num,$country_code='86')
	{
        if(!isset(self::$data[$country_code]))
        {
            return false;
        }
        else
        {
            preg_match('/'.self::$data[$country_code]['exp'].'/',$num,$result);
    		return ($result) ? true : false;
    	}
	}
}
?>