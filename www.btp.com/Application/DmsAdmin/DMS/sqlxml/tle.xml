<table name='{$this->name}' engine="InnoDB">
<field name="id"      type="int(11)" auto_increment="1" primary="1" />
<field name="计算时间" type="int(11)"   default="0"/>
<foreach name="{X('levels')}" item="levels">
   <field name='{$levels.name}' type="numeric(3)" default="1"/>
</foreach>
<field name='编号'     type="varchar(50)" default=""/>
<foreach name="{X('net_rec,net_place')}" item="net">
   <field name='{$net.name}_上级编号'   type="varchar(50)" default=""/>
</foreach>
<field name='奖金'     type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='收入'     type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='形成奖金' type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='结转奖金' type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='应发奖金' type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='累计收入' type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='显示'     type="tinyint(2)" default="0"/>
<field name="生成时间" type="int(11)"   default="0"/>
<field name='state'     type="tinyint(1)" default="0" />
<field name='INDEX (`编号`)' type="KEY"/>
<field name='INDEX (`计算时间`)' type="KEY"/>
<field name='INDEX (`state`)' type="KEY"/>
</table>
<table name='{$this->name}总账'  engine="InnoDB">
<field name="id" type="int(11)" auto_increment="1" primary="1" />
<field name="计算时间" type="int(11)" default="0"/>
<field name='总业绩'   type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='总奖金'   type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='本期业绩' type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<field name='本期奖金' type="decimal({$this->parent('user')->decimalLon},{$this->parent('user')->decimalLen})" default="0" null="1"/>
<foreach name="{X('prize_*[prizeMode>=0]')}" item="prize">
   <field name='{$prize.name}' type="decimal({:C('decimalLon')},{:C('decimalLen')})" default="0"/>
</foreach>
<field name='新增会员' type="int(11)" default="0"/>
<field name='全部会员' type="int(11)" default="0"/>
<field name='发放时间' type="varchar(50)" default=""/>
<field name='结算方式' type="tinyint(1)" default="0"/>
<field name='state' type="tinyint(1)" default="0"/>
<field name='INDEX (`计算时间`)' type="KEY"/>
<field name='INDEX (`state`)' type="KEY"/>
</table>