<div class="pageContent">
	<form method="post" action="{:U('Admin/update')}" class="pageForm required-validate" onsubmit="return validateCallback(this,navTabAjaxDone)">
		<input type="hidden" name="id" value="{$vo.id}" />
		<input type="hidden" name="account" value="{$vo.account}" />
		<input type="hidden" name="submit" value="1" />
		<input type="hidden" name="forwardUrl" value="{:U('Admin/index')}"/>
		<input type="hidden" name="navTabTitle" value="管理员管理"/>
		<div class="pageFormContent" layoutH="58">

			<table cellpadding="5" cellspacing="5">
				<tr>
					<th width="80" style="text-align:right">帐号：</th>
					<td style="text-align:left" width="200">
                    <input type="text" class="required" name="account" value="{$vo.account}" />
					</td>
					<th>密码：</th>
					<td style="text-align:left">
						<input type="password" autocomplete="off" class="required" minlength="1" maxlength="20" id="password1" name="password" value="noeditpass" />
                        <span style="display:none" id="pwdlv1">
                            <span id="pwd_lower1" style="border-bottom: 2px solid red;display:inline-block;width:35px;text-align:center">{:L('弱')}</span>
                            <span id="pwd_middle1" style="border-bottom: 2px solid #dadada;display:inline-block;width:35px;text-align:center">{:L('中')}</span>
                            <span id="pwd_high1" style="border-bottom: 2px solid #dadada;display:inline-block;width:35px;text-align:center">{:L('强')}</span>
                        </span>
					</td>
				<tr>
					<th style="text-align:right">昵称：</th>
					<td style="text-align:left">
						<input type="text" class="required" name="nickname" value="{$vo.nickname}" />
					</td>
					<th style="text-align:right">邮箱：</th>
					<td style="text-align:left">
						<input type="text" class="email" name="email" value="{$vo.email}" />
					</td>
				</tr>

				<tr>
					<th  style="text-align:right">安全绑定：</th>
					<td style="text-align:left">
						<a target="dialog" href='__CONTROLLER__/addbind/aid/{$vo.id}' height="400" width="600" mask="true"><div class="buttonActive"><div class="buttonContent"><button id="googlePassBut" type="button" >添加绑定</button></div></div></a>
					</td>
				</tr>
				<tr>
					<th  style="text-align:right">绑定列表：</th>
					<td style="text-align:left" colspan="3">
						<table>
							<foreach name='maps' item='map'>
								<tr>
									<td style="line-height:0;valign:middle">
										<eq name="map['type']" value="1">
											<img src="/Public/Images/yc/yb16.png"/>
										<else/>
											<img src="/Public/Images/yc/yc16.png"/>
										</eq>
									</td>
									<td style="text-align:left">&nbsp;
										<neq name="map['name']" value="">
										（{$map.name}）
										</neq>&nbsp;
									</td>
									<td>
										<gt name="map['endtime']" value="0">&nbsp;截止到&nbsp;{:date("Y-m-d",($map['endtime']))}&nbsp;
											<eq name="map['status']" value="1">失效<else/>
												<span style="color:#ff0000">已失效<span>
											</eq>
										<else/>
										永久
										</gt>&nbsp;
									</td>
									<td>
										<a href="__CONTROLLER__/delbind/aid/{$vo.id}/kid/{$map.id}/t/0" target="dialog" height="260" width="620" mask="true">
										<div class="buttonActive">
											<div class="buttonContent">
												<button id="googlePassBut" type="button" >编辑</button>
											</div>
										</div>
										</a>&nbsp;&nbsp;
									</td>
									<td>
										<a href="__CONTROLLER__/delbind/aid/{$vo.id}/kid/{$map.id}/t/1" target="dialog" height="230" width="620" mask="true">
										<div class="buttonActive">
											<div class="buttonContent">
												<button id="googlePassBut" type="button" >删除</button>
											</div>
										</div>
										</a>&nbsp;
									</td>
								</tr>
							</foreach>
						</table>
					</td>
				</tr>
<!-- 				<eq name="admins['admin_status']" value="1">
				<tr>
					<th  style="text-align:right">超管权限：</th>
					<td style="text-align:left" colspan="3">
						<input type="radio" name="admin_status" <eq name="vo.admin_status" value="1">checked="true"</eq> value="1"/><label for="status1">启用</label>
						<input type="radio" name="admin_status" <eq name="vo.admin_status" value="0">checked="true"</eq> value="0"/><label for="status2">取消</label>
					</td>
				</tr>
				</eq> -->
				<tr>
					<th  style="text-align:right">状态：</th>
					<td style="text-align:left" colspan="3">
						<input type="radio" name="status" <eq name="vo.status" value="1">checked="true"</eq> value="1" id="status1" /><label for="status1">启用</label>
						<input type="radio" name="status" <eq name="vo.status" value="2">checked="true"</eq> value="2" id="status2" /><label for="status2">禁用</label>
					</td>
				</tr>
				<tr>
					<th  style="text-align:right">描 述：</th>
					<td colspan="3" style="text-align:left">
						<TEXTAREA class="large bLeft" name="remark"  ROWS="3" COLS="40">{$vo.remark}</TEXTAREA>
					</td>
				</tr>
			</table>
			<include file="access"/>
		</div>
		<div class="formBar">
			<ul>
				<li><div class="buttonActive"><div class="buttonContent"><button id="submit" type="submit">确定</button></div></div></li>
				<li><div class="button"><div class="buttonContent"><button type="button" class="close">取消</button></div></div></li>
			</ul>
		</div>
	</form>
</div>
<script>
<if condition="adminshow('passlv')">
$('#password1').keyup(function () {
    var pwd = $(this).val();
    if(!pwd) {
        document.getElementById("pwdlv1").style.display  = 'none';
        return;
    }
    document.getElementById("pwdlv1").style.display  = '';

    var Mcolor = "#FFF",Lcolor = "#FFF",Hcolor = "#FFF";
    var m=0;

    var Modes = 0;
    for (i=0; i<pwd.length; i++)
    {
        var charType = 0;
        var t = pwd.charCodeAt(i);
        if (t>=48 && t <=57) // 0-9
        {
            charType = 1;
        }
        else if (t>=65 && t <=90) // A-Z
        {
            charType = 2;
        }
        else if (t>=97 && t <=122) // a-z
            charType = 3;
        else // 其他
            charType = 4;
        Modes |= charType; // 按位或赋值
    }

    for (i=0;i<4;i++)
    {
        if (Modes & 1) m++; // 按位与
        Modes>>>=1; // 无符号右移
    }

    if (pwd.length<=4)
    {
        m = 1;
    }
    // alert(m);
    switch(m)
    {
    case 1 :
        Lcolor = "2px solid red";
        Mcolor = Hcolor = "2px solid #DADADA";
        break;
    case 2 :
        Mcolor = "2px solid #f90";
        Lcolor = Hcolor = "2px solid #DADADA";
        break;
    case 3 :
        Hcolor = "2px solid #3c0";
        Lcolor = Mcolor = "2px solid #DADADA";
        break;
    case 4 :
        Hcolor = "2px solid #3c0";
        Lcolor = Mcolor = "2px solid #DADADA";
        break;
    default :
        Hcolor = Mcolor = Lcolor = "";
        break;
    }

    document.getElementById("pwd_lower1").style.borderBottom  = Lcolor;
    document.getElementById("pwd_middle1").style.borderBottom = Mcolor;
    document.getElementById("pwd_high1").style.borderBottom   = Hcolor;

});
</if>

// function deleteBut(name){
// 	alertMsg.confirm('你确定要删除吗',{
// 		okCall:function(){
// 			$.ajax({
// 				url:'__CONTROLLER__/yangcong_delete',
// 				type:'POST',
// 				data:{'name':name},
// 			    dataType:'json',
// 			    global:true,
// 				success:function(resp){
// 			        	var r = eval(resp);
// 			        	if(r.status == 1){
// 			        		alertMsg.correct(r.info);
// 			        		navTab.reload();
//                         	return;
//                     	}else if(r.status == 0){
//                         	alertMsg.error(r.info);
//                         	return;
//                     	}
// 			        }
// 			})
// 		}
// 	});
// }
</script>
